<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 6</title>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>

    </head>

    <body>

       <script type="application/javascript">
            function createFamilyTree() {
                $('body').append(`<table></table>`);
                $('table').append('<thead></thead>');
                $('thead').append('<tr></tr>');
                $('tr').append('<th></th>', '<th></th>');
                $('tr > th:first').text('Firstname');
                $('tr > th:last').text('Lastname');
                $('table').append('<tbody></tbody>');
            }

            function addNewMember(firstName, lastName, position) {
				const addRow = '<tr><td>' + firstName + '</td><td>' + lastName + '</td><td>(x)</td></tr>';
				if (position == 'before') {
					$('tbody').prepend(addRow);
				} else {
					$('tbody').append(addRow);
				}
				$('tbody td:last-child').css('background-color', 'orange');
				$('tbody td:last-child').click(function () {
					$(this).parent().remove();
				})
        	}

			function createForm() {
				$('table').before(`
				<input type='text' name='firstName'>
				<input type='text' name='lastName'>
				<select>
					<option value='before'>Before</option>
					<option value='after'>After</option>
				</select>
				<input type='submit'>
				`);
				$('input:last').click(function () {
					addNewMember($('input:first').val(), $('input:nth-of-type(2)').val(), $('select').val());
				})
			}
        	createFamilyTree();
			createForm();
       </script>

    </body>

</html>
